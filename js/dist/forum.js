(()=>{var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{"use strict";const e=flarum.core.compat["forum/app"];var o=t.n(e);const n=flarum.core.compat["common/extend"],r=flarum.core.compat["forum/components/SettingsPage"];var s=t.n(r);const a=flarum.core.compat["common/components/FieldSet"];var c=t.n(a);const u=flarum.core.compat["common/components/Button"];var l=t.n(u);const i=flarum.core.compat["tags/common/components/TagSelectionModal"];var d=t.n(i);const p=flarum.core.compat["tags/common/helpers/tagsLabel"];var f=t.n(p),g=!1;function v(){var t,e=(((null==(t=o().session)||null==(t=t.user)?void 0:t.preferences())||{}).custom_hide_tags+""||"").split(",").map((function(t){return o().store.getById("tags",t)}));o().modal.show(d(),{canSelect:function(){return!0},selectedTags:e,onsubmit:function(t){var e;g=!0,m.redraw(),null==(e=o().session)||null==(e=e.user)||e.savePreferences({custom_hide_tags:t.map((function(t){return t.id()})).join(",")}).then((function(){g=!1,m.redraw()}))}})}o().initializers.add("xypp/flarum-custom-hide-tags",(function(){(0,n.extend)(s().prototype,"settingsItems",(function(t){var e;if(o().forum.attribute("customHideTags.hide")){var n=(((null==(e=o().session)||null==(e=e.user)?void 0:e.preferences())||{}).custom_hide_tags+""||"").split(",").map((function(t){return o().store.getById("tags",t)}));t.add("xypp-custom-hide-tags",m(c(),{label:o().translator.trans("xypp-custom-hide-tags.forum.hides")},m("p",null,o().translator.trans("xypp-custom-hide-tags.forum.hides-desc")),m("div",null,f()(n)),m("div",null,m(l(),{onclick:v,disabled:g,loading:g,className:"Button Button--primary"},o().translator.trans("xypp-custom-hide-tags.forum.hides-select")))))}}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map